# Zabbix Agent 2 Configuration
# Managed by Ansible

PidFile=/var/run/zabbix/zabbix_agent2.pid
LogFile=/var/log/zabbix/zabbix_agent2.log
LogFileSize=0
DebugLevel=3

# Enable remote commands (optional)
EnableRemoteCommands=1
LogRemoteCommands=1

# Server configuration
Server={{ zabbix_server_ip }}
ServerActive={{ zabbix_server_ip }}
Hostname={{ ansible_hostname }}

# TLS settings (optional)
# TLSConnect=psk
# TLSAccept=psk
# TLSPSKIdentity=psk_identity
# TLSPSKFile=/etc/zabbix/zabbix_agent2.psk

# User parameters
Include=/etc/zabbix/zabbix_agent2.d/*.conf

# Timeout
Timeout=30

# Allow key access from Zabbix server
AllowKey=system.run[*]