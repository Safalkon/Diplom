# Ansible inventory generated by Terraform
# Date: 2026-02-06T21:20:54Z

all:
  vars:
    ansible_user: safalkon
    ansible_ssh_private_key_file: ~/.ssh/id_ed25519
    ansible_ssh_common_args: '-o StrictHostKeyChecking=no'

  children:
    bastion:
      hosts:
        diplom-diplom-bastion.ru-central1.internal:
          ansible_host: 51.250.92.20

    web_servers:
      hosts:
        cl1kto7ifbsvt3id9vjl-ozit.ru-central1.internal:
          ansible_host: cl1kto7ifbsvt3id9vjl-ozit.ru-central1.internal
          zone: ru-central1-a
          ansible_ssh_common_args: '-o ProxyCommand="ssh -W %h:%p -q safalkon@51.250.92.20"'
        cl1kto7ifbsvt3id9vjl-ahic.ru-central1.internal:
          ansible_host: cl1kto7ifbsvt3id9vjl-ahic.ru-central1.internal
          zone: ru-central1-b
          ansible_ssh_common_args: '-o ProxyCommand="ssh -W %h:%p -q safalkon@51.250.92.20"'
      vars:
        nginx_port: 80
        zabbix_server: 10.0.1.28
        elasticsearch_host: 10.0.21.10

    zabbix_server:
      hosts:
        zabbix.ru-central1.internal:
          ansible_host: zabbix.ru-central1.internal
          zabbix_web_port: 80
          zabbix_server_port: 10051

    elasticsearch_server:
      hosts:
        elasticsearch.ru-central1.internal:
          ansible_host: elasticsearch.ru-central1.internal
          elasticsearch_port: 9200
          elasticsearch_cluster_name: diplom-cluster
          ansible_ssh_common_args: '-o ProxyCommand="ssh -W %h:%p -q safalkon@51.250.92.20"'

    kibana_server:
      hosts:
        kibana.ru-central1.internal:
          ansible_host: kibana.ru-central1.internal
          kibana_port: 5601

    monitoring_agents:
      children:
        web_servers

    log_collection:
      children:
        web_servers

    all_servers:
      children:
        bastion
        web_servers
        zabbix_server
        elasticsearch_server
        kibana_server