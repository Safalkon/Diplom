# Анализ проекта

## 1. Цели и задачи
Основная задача — упростить процесс развертывания инфраструктуры за счет устранения Python-скрипта для генерации инвентаря Ansible. Это повысит надежность и упростит поддержку проекта.

## 2. Процесс развертывания

### Раньше
1.  Запустить `terraform apply` для создания инфраструктуры.
2.  Запустить `terraform output -json > output.json` для получения данных о созданных ресурсах.
3.  Запустить `python ansible/scripts/generate_inventory.py` для создания инвентаря Ansible.
4.  Запустить `ansible-playbook` для настройки серверов.

### Сейчас
1.  Запустить `terraform apply`. Terraform автоматически создаст файл `ansible/inventory.yml`.
2.  Запустить `ansible-playbook -i ansible/inventory.yml ansible/site.yml` для настройки серверов.

## 3. Внесенные изменения
*   **Удален Python-скрипт:** `ansible/scripts/generate_inventory.py` был удален.
*   **Добавлен `terraform/inventory.tf`:** Этот файл использует ресурс `local_file` для создания `ansible/inventory.yml`.
*   **Добавлен `ansible/inventory.yml.tftpl`:** Шаблон для генерации инвентаря Ansible.
*   **Удален старый `ansible/inventory.yml`:** Статический инвентарь был удален.

## 4. Риски и ограничения
Рисков, связанных с этим изменением, не выявлено. Новый процесс более надежен и прост в использовании.

## 5. Дальнейшие шаги
Проект готов к использованию. Дальнейших шагов по упрощению не требуется.

